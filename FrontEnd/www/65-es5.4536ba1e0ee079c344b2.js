!function(){function o(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function n(o,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{"kf/V":function(t,e,i){"use strict";i.r(e),i.d(e,"PostPageModule",function(){return P});var c=i("ofXK"),s=i("3Pt+"),r=i("TEn/"),b=i("tyNb"),a=i("vkgz"),l=i("fXoL"),d=i("P7CE"),p=i("npAJ");function f(o,n){if(1&o&&(l.Ob(0,"div",31),l.lc(1),l.Nb()),2&o){var t=l.ac();l.zb(1),l.nc(" t/",t.postInfos.post.topic.title," ")}}function g(o,n){if(1&o&&(l.Ob(0,"div",31),l.lc(1),l.Nb()),2&o){var t=l.ac();l.zb(1),l.nc(" ev/",t.postInfos.post.topic.title," ")}}function m(o,n){if(1&o&&(l.Ob(0,"div",32),l.Kb(1,"img",33),l.Nb()),2&o){var t=l.ac();l.zb(1),l.Ab("src",t.getImageURL(),l.ic)}}function u(o,n){if(1&o&&(l.Ob(0,"div",32),l.lc(1),l.Nb()),2&o){var t=l.ac();l.zb(1),l.nc(" ",t.postInfos.post.content.text," ")}}function O(o,n){if(1&o){var t=l.Pb();l.Ob(0,"div",34),l.Kb(1,"img",35),l.Ob(2,"div",36),l.Ob(3,"ion-grid",5),l.Ob(4,"ion-row"),l.Ob(5,"ion-col",37),l.Kb(6,"ion-icon",38),l.lc(7),l.Nb(),l.Ob(8,"ion-col",39),l.Kb(9,"ion-icon",40),l.lc(10),l.Nb(),l.Nb(),l.Ob(11,"ion-row"),l.Ob(12,"ion-col",37),l.Kb(13,"ion-icon",41),l.lc(14),l.Nb(),l.Ob(15,"ion-col",39),l.Kb(16,"ion-icon",42),l.lc(17),l.Nb(),l.Nb(),l.Ob(18,"ion-row"),l.Ob(19,"ion-col",43),l.Ob(20,"ion-button",44),l.Wb("click",function(){return l.hc(t),l.ac().joinEvent()}),l.lc(21),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb()}if(2&o){var e=l.ac();l.zb(7),l.nc(" ",e.postInfos.post.content.description," "),l.zb(3),l.nc(" ",e.postInfos.post.content.date," "),l.zb(4),l.nc(" ",e.postInfos.post.content.location," "),l.zb(3),l.nc(" ",e.postInfos.post.content.joined," "),l.zb(3),l.dc("disabled",e.joined),l.zb(1),l.nc(" ",e.joinbtn," ")}}function h(o,n){1&o&&(l.Ob(0,"ion-row"),l.Ob(1,"ion-col",45),l.Ob(2,"div"),l.lc(3,"No comment !"),l.Nb(),l.Kb(4,"hr"),l.Nb(),l.Nb())}function x(o,n){if(1&o&&(l.Mb(0),l.Ob(1,"ion-row"),l.Ob(2,"ion-col",46),l.Kb(3,"img",47),l.Nb(),l.Ob(4,"ion-col",48),l.Ob(5,"ion-grid",49),l.Ob(6,"ion-row"),l.Ob(7,"ion-col",1),l.lc(8),l.Nb(),l.Nb(),l.Ob(9,"ion-row"),l.Ob(10,"ion-col",1),l.Ob(11,"div",50),l.lc(12),l.Nb(),l.Nb(),l.Nb(),l.Ob(13,"ion-row"),l.Ob(14,"ion-col",51),l.Ob(15,"div"),l.Kb(16,"hr",52),l.Ob(17,"div",53),l.Kb(18,"ion-icon",7),l.lc(19),l.Kb(20,"ion-icon",54),l.lc(21),l.Nb(),l.Kb(22,"hr",52),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Kb(23,"hr"),l.Lb()),2&o){var t=n.$implicit;l.zb(8),l.oc(" u/",t.user.username," - ",t.date," "),l.zb(4),l.mc(t.text),l.zb(7),l.nc(" ",t.likes," likes "),l.zb(2),l.nc(" ",t.dislikes," dislikes ")}}var v,N,C,z=[{path:"",component:(v=function(){function t(n,e,i,c,s,r,b){o(this,t),this.route=n,this.feedService=e,this.navCtrl=i,this.loadingCtrl=c,this.authService=s,this.formBuilder=r,this.alertCtrl=b,this.id="",this.postInfos={success:!1,post:{user:{username:""},content:{url:"",text:"",joined:0},topic:{title:""}}},this.isAuthenticated=!1,this.joinbtn="Join",this.joined=!1,this.comments=[],this.commentform=r.group({text:[""]})}var e,i,c;return e=t,(i=[{key:"ngOnInit",value:function(){var o=this;this.id=this.route.snapshot.paramMap.get("id"),this.loadingCtrl.create({spinner:"crescent"}).then(function(n){n.present(),o.feedService.getPostInfo(o.id).pipe(Object(a.a)(function(t){t.success?(t.post.title=o.titleCaseWord(t.post.title),n.dismiss(),o.postInfos=t,o.comments=t.comments,console.log("Comments : ",o.comments),console.log(o.postInfos)):(n.dismiss(),o.navCtrl.navigateRoot("/error/notfound"))})).subscribe()}),this.authService.autoLogin().subscribe(function(n){o.isAuthenticated=n,console.log(n)})}},{key:"titleCaseWord",value:function(o){return o?o[0].toUpperCase()+o.substr(1):o}},{key:"joinEvent",value:function(){var o=this;this.isAuthenticated?(this.joinbtn="Joining",this.loadingCtrl.create({spinner:"crescent"}).then(function(n){n.present(),setTimeout(function(){n.dismiss(),o.joined=!0,o.joinbtn="Joined"},2e3)}),console.log("Event topic id : ",this.postInfos.post.topic.id)):this.navCtrl.navigateRoot("/login")}},{key:"comment",value:function(){var o=this;this.loadingCtrl.create({spinner:"crescent"}).then(function(n){n.present(),o.feedService.subcomment(o.id,o.commentform.value.text).subscribe(function(t){console.log(t),t.success?(n.dismiss(),o.commentform.reset(),o.feedService.getPostInfo(o.id).pipe(Object(a.a)(function(n){n.success?(o.comments=n.comments,console.log("Comments : ",o.comments)):o.navCtrl.navigateRoot("/error/notfound")})).subscribe()):(n.dismiss(),o.alertCtrl.create({header:"Something wrong",message:"Please retry again !",buttons:["Ok"]}).then(function(o){o.present()}),console.log("Commenting failed"))})})}},{key:"getImageURL",value:function(){if(this.postInfos.post.content&&this.postInfos.post.content.url)return this.postInfos.post.content.url}}])&&n(e.prototype,i),c&&n(e,c),t}(),v.\u0275fac=function(o){return new(o||v)(l.Jb(b.a),l.Jb(d.a),l.Jb(r.G),l.Jb(r.F),l.Jb(p.a),l.Jb(s.b),l.Jb(r.a))},v.\u0275cmp=l.Db({type:v,selectors:[["app-post"]],decls:66,vars:13,consts:[[1,"has-header"],["size","12"],[1,"backgrnd"],[1,"image"],["size","7","offset","1",2,"--ion-background-color","#fff"],["fixed",""],["size","1",1,"likescase","ion-text-center"],["name","heart-outline"],["name","heart-dislike-outline"],["size","11"],[1,"date"],["class","title",4,"ngIf"],["style","padding: 0 15px 15px 15px;","class","content",4,"ngIf"],["class","invitation",4,"ngIf"],[2,"background-color","#eeeeee","height","40px"],[1,"commtitle"],[1,"ion-padding"],["offset","1","size","11"],[3,"formGroup"],["size","12 "],["formControlName","text","type","text ","placeholder","Place your comment here. "],["offset","9","size","3"],["expand","block ","fill","clear ","shape","round ",1,"commentbtn",3,"click"],[1,"ion-padding","comments-title"],[4,"ngIf"],[4,"ngFor","ngForOf"],["size","3 "],[1,"widget","w-center"],[1,"profiler"],["src","../../../assets/profile.jpg "],["size","5 "],[1,"title"],[1,"content",2,"padding","0 15px 15px 15px"],["alt","Cannot load"],[1,"invitation"],["src","../../../assets/event-invitation-redimg.jpg",1,"inv-img"],[1,"invInfos"],["offset","1","size","6"],["name","information-circle-outline",1,"infoicons"],["size","4"],["name","calendar-outline",1,"infoicons"],["name","location-outline",1,"infoicons"],["name","people-outline",1,"infoicons"],["offset","2","size","8"],["expand","block","fill","clear",1,"postbtn",3,"disabled","click"],["offset","2","size","10"],["offset","2","size","1"],["src","../../../assets/avatar.jpg",1,"commavatar"],["size","9"],["fixed","",1,"ion-no-padding"],[1,"commtext"],["size","8"],[1,"commhr"],[2,"padding","2px 5px 2px 5px"],["name","heart-dislike-outline",2,"padding-left","15px"]],template:function(o,n){1&o&&(l.Ob(0,"ion-header"),l.Kb(1,"ion-toolbar"),l.Nb(),l.Ob(2,"ion-content",0),l.Ob(3,"ion-grid"),l.Ob(4,"ion-row"),l.Ob(5,"ion-col",1),l.Kb(6,"div",2),l.Kb(7,"div",3),l.Nb(),l.Nb(),l.Ob(8,"ion-row"),l.Ob(9,"ion-col",4),l.Ob(10,"ion-grid",5),l.Ob(11,"ion-row"),l.Ob(12,"ion-col"),l.Ob(13,"ion-grid",5),l.Ob(14,"ion-card"),l.Ob(15,"ion-row"),l.Ob(16,"ion-col",6),l.Kb(17,"ion-icon",7),l.lc(18),l.Kb(19,"hr"),l.Kb(20,"ion-icon",8),l.lc(21),l.Nb(),l.Ob(22,"ion-col",9),l.Ob(23,"ion-card-header"),l.Ob(24,"ion-card-subtitle",10),l.lc(25),l.Nb(),l.Nb(),l.kc(26,f,2,1,"div",11),l.kc(27,g,2,1,"div",11),l.Ob(28,"ion-card-header"),l.Ob(29,"ion-card-title"),l.lc(30),l.Nb(),l.Nb(),l.kc(31,m,2,1,"div",12),l.kc(32,u,2,1,"div",12),l.kc(33,O,22,6,"div",13),l.Nb(),l.Nb(),l.Nb(),l.Ob(34,"ion-card"),l.Ob(35,"ion-row",14),l.Ob(36,"ion-col",1),l.Ob(37,"div",15),l.lc(38,"PLACE A COMMENT"),l.Nb(),l.Nb(),l.Nb(),l.Ob(39,"ion-row",16),l.Ob(40,"ion-col",17),l.Ob(41,"form",18),l.Ob(42,"ion-grid",5),l.Ob(43,"ion-row"),l.Ob(44,"ion-col",19),l.Kb(45,"ion-textarea",20),l.Nb(),l.Nb(),l.Ob(46,"ion-row"),l.Ob(47,"ion-col",21),l.Ob(48,"ion-button",22),l.Wb("click",function(){return n.comment()}),l.lc(49," Comment "),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Ob(50,"ion-row",23),l.Ob(51,"ion-col",17),l.lc(52," Comments : "),l.Nb(),l.Nb(),l.kc(53,h,5,0,"ion-row",24),l.kc(54,x,24,5,"ng-container",25),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Ob(55,"ion-col",26),l.Ob(56,"div",27),l.Ob(57,"h4",28),l.lc(58,"Author"),l.Nb(),l.Ob(59,"ion-grid",5),l.Ob(60,"ion-row"),l.Ob(61,"ion-col",26),l.Kb(62,"ion-img",29),l.Nb(),l.Ob(63,"ion-col",30),l.lc(64),l.Nb(),l.Nb(),l.Nb(),l.Kb(65,"hr"),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb()),2&o&&(l.zb(18),l.nc(" ",n.postInfos.post.likes," "),l.zb(3),l.nc(" ",n.postInfos.post.dislikes," "),l.zb(4),l.mc(n.postInfos.post.date),l.zb(1),l.dc("ngIf",n.postInfos.success&&(0==n.postInfos.post.type||1==n.postInfos.post.type)),l.zb(1),l.dc("ngIf",n.postInfos.success&&2==n.postInfos.post.type),l.zb(3),l.mc(n.postInfos.post.title),l.zb(1),l.dc("ngIf",n.postInfos.success&&0==n.postInfos.post.type),l.zb(1),l.dc("ngIf",n.postInfos.success&&1==n.postInfos.post.type),l.zb(1),l.dc("ngIf",n.postInfos.success&&2==n.postInfos.post.type),l.zb(8),l.dc("formGroup",n.commentform),l.zb(12),l.dc("ngIf",0==n.comments.length),l.zb(1),l.dc("ngForOf",n.comments),l.zb(10),l.nc(" ",n.postInfos.post.user.username," "))},directives:[r.p,r.C,r.m,r.o,r.x,r.l,r.h,r.q,r.i,r.j,c.i,r.k,s.o,s.j,s.d,r.A,r.K,s.i,s.c,r.f,c.h,r.r],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ion-content[_ngcontent-%COMP%]{--ion-background-color:#f2f2f2}ion-card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #c7c7c7;margin:0 0 10px 10px;border-radius:0;text-decoration:none}h2.topics[_ngcontent-%COMP%]{margin-left:20px;border-bottom:1px solid #bbb;color:#adadad}ion-toolbar[_ngcontent-%COMP%]{--ion-background-color:#dd4e35;color:#fff;font-family:Courier New,Courier,sans-serif}ion-title[_ngcontent-%COMP%]{font-size:17px}.widget[_ngcontent-%COMP%]{float:left;width:100%;background-color:#fff;border-left:1px solid #e4e4e4;border-right:1px solid #e4e4e4;border-bottom:1px solid #e4e4e4;margin-bottom:20px;-ms-box-shadow:0 2px #e4e4e4;-o-box-shadow:0 2px #e4e4e4;box-shadow:0 2px #e4e4e4}.w-center[_ngcontent-%COMP%]{text-align:center}.backgrnd[_ngcontent-%COMP%]{position:relative;height:15%}.image[_ngcontent-%COMP%], img.img-avatar[_ngcontent-%COMP%]{position:absolute}img.img-avatar[_ngcontent-%COMP%]{height:100px;width:100px;border-radius:50%;left:10%;transform:translateY(-60%)}h4.profiler[_ngcontent-%COMP%]{background-color:#e06b56;margin:0;padding-top:10px;padding-bottom:10px;color:#fff}.joined[_ngcontent-%COMP%]{padding:5px 0 0 10px}.joindate[_ngcontent-%COMP%]{padding-top:10px;padding-left:5px;color:#696767}.jointext[_ngcontent-%COMP%]{font-weight:550}h4.usertopics[_ngcontent-%COMP%]{background-color:#e06b56;margin:0;padding-top:10px;padding-bottom:10px;color:#fff}.likescase[_ngcontent-%COMP%]{background-color:#eee}.title[_ngcontent-%COMP%]{padding-left:16px;color:#3f3f3f;font-size:medium;font-weight:bolder!important}.invitation[_ngcontent-%COMP%]{padding:10px 5px;margin:0 16px 16px;border:2px solid #e06b56;border-radius:6px}img.inv-img[_ngcontent-%COMP%]{height:200px;width:200px;border-radius:50%;position:relative;left:50%;transform:translateX(-50%)}.infoicons[_ngcontent-%COMP%]{padding:5%;height:30px;width:30px;color:#dd4e35}.invInfos[_ngcontent-%COMP%]{font-size:large}ion-button.postbtn[_ngcontent-%COMP%]{background-color:#e06b56;color:#fff;font-weight:700;border-radius:10px;margin-top:5%}ion-card-subtitle.date[_ngcontent-%COMP%]{position:relative;float:right;--ion-padding-top:0}ion-button.commentbtn[_ngcontent-%COMP%]{border:2px solid #3880ff;font-weight:700;border-radius:5px}ion-textarea[_ngcontent-%COMP%]{height:100px;font-size:medium;border-radius:5px;border:1px solid #d4d4d4;padding-left:5px}.commtitle[_ngcontent-%COMP%]{padding-top:10px;position:relative;left:40%}.comments-title[_ngcontent-%COMP%]{padding-left:30px}.commtext[_ngcontent-%COMP%]{padding:10px;color:#3f3f3f;font-size:large}hr.commhr[_ngcontent-%COMP%]{background-color:#e7e7e7!important}"]}),v)}],w=((C=function n(){o(this,n)}).\u0275mod=l.Hb({type:C}),C.\u0275inj=l.Gb({factory:function(o){return new(o||C)},imports:[[b.j.forChild(z)],b.j]}),C),P=((N=function n(){o(this,n)}).\u0275mod=l.Hb({type:N}),N.\u0275inj=l.Gb({factory:function(o){return new(o||N)},imports:[[c.b,s.e,r.D,w,s.m]]}),N)}}])}();